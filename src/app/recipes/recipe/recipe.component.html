<h1>{{mainServ.post.title}}</h1>
<div class="row">
  <div class="col-8">
    <div class="row">
      <div class="col">
        <div class="row">
          <div class="col">
            <img [src]="mainServ.post.author.avatar" class="card-img-top">
          </div>
          <div class="col">
            <div>{{mainServ.post.author.firstName}} {{mainServ.post.author.lastName}}</div>
            <div>{{mainServ.post.createdOn}}</div>
          </div>
        </div>
      </div>
      <div class="col">
        <div>Время приготовления:</div>
        <div> {{mainServ.post.timeCooking}}</div>
      </div>
      <div class="col">{{mainServ.post.tags}}</div>
    </div>
    <div>
      <img [src]="mainServ.post.image" class="card-img-top">
    </div>
  </div>
  <div class="col-4">
    <div class="p-3" style="background-color: #E7FAFE; border-radius: 10%;">
      <div>
        <h4>Пищевая ценность</h4>
        <table class="table-primary">
          <tbody>
            <tr>
              <td>Калории</td>
              <td>{{mainServ.post.foodValue.calories}}</td>
            </tr>
            <tr>
              <td>Жиры</td>
              <td>{{mainServ.post.foodValue.fats}}</td>
            </tr>
            <tr>
              <td>Углеводы</td>
              <td>{{mainServ.post.foodValue.carbohydrates}}</td>
            </tr>
            <tr>
              <td>Белки</td>
              <td>{{mainServ.post.foodValue.proteins}}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div>
        <p>Значения приблизительные</p>
      </div>
    </div>
  </div>
</div>
<p class="mb-3">{{mainServ.post.body}}</p>
<div class="row mb-3">
  <div class="col-8">
    <h3>Ингредиенты</h3>
    <p>Что вам пригодится</p>
    <ul class="list-group">
      <li class="list-group-item" *ngFor="let el of mainServ.post.ingredients">{{el.title}} {{el.description}}</li>
    </ul>
  </div>
  <div class="col-4">
    <h3>Прочие рецепты</h3>
    <div>
      <ul class="list-group">
        <li class="list-group-item" *ngFor="let el of random_arr;index as i "> <a (click)="mainServ.getPost(el.id)">
            <div class="row">
              <div class="col"><img [src]="el.image" class="card-img-top"></div>
              <div class="col">
                <h6>{{el.title}}</h6>
                <p> От {{el.author.firstName}} {{el.author.lastName}}</p>
              </div>
            </div>
          </a>
        </li>
      </ul>
    </div>
  </div>
</div>
<div class="mb-3">
  <h3>Шаги приготовления</h3>
  <ul class="list-group">
    <li class="list-group-item" *ngFor="let step of  mainServ.post.cookingSteps; index as i">
      <div class="d-flex justify-content-between ">
        <div class="d-flex align-items-center">
          <div class="me-3">
            <input type="checkbox" (change)="completeStep(i)" />
          </div>
          <p class="m-0" [style.text-decoration]="step.check ? 'line-through': 'none'  ">{{step.title}}</p>
        </div>
      </div>
      <div>
        <p>{{step.description}}</p>
      </div>
    </li>
  </ul>
</div>
<div class="mb-3">
  <h3 class="text-center">Возможно вам понравятся эти рецепты</h3>
  <div class="row">
    <div class="col-3" *ngFor="let el of like_recipe_arr; index as i">
      <div class="card relative" style="width: 18rem;">
        <div class="absolute" style="top: 5px; right:0">
          <button data-toggle="button" (click)=" checkLike(i)" aria-pressed="false">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg "
              *ngIf="!el.like">
              <path
                d="M16.5022 3.00001C15.6291 2.99851 14.7677 3.20077 13.9865 3.59072C13.2052 3.98066 12.5258 4.54752 12.0022 5.24621C11.293 4.30266 10.3051 3.606 9.17823 3.25482C8.05134 2.90365 6.84256 2.91573 5.72291 3.28936C4.60327 3.663 3.62948 4.37926 2.93932 5.3368C2.24916 6.29434 1.8776 7.44467 1.8772 8.62501C1.8772 15.3621 11.2373 20.6813 11.6357 20.9044C11.7477 20.9671 11.8739 21 12.0022 21C12.1305 21 12.2567 20.9671 12.3687 20.9044C14.0902 19.8961 15.7059 18.7173 17.1914 17.3856C20.4665 14.438 22.1272 11.4905 22.1272 8.62501C22.1255 7.13368 21.5323 5.70393 20.4778 4.6494C19.4233 3.59487 17.9935 3.0017 16.5022 3.00001Z"
                fill="#DBE2E5" />
            </svg>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
              *ngIf="el.like">
              <path
                d="M16.5022 3.00001C15.6291 2.99851 14.7677 3.20077 13.9865 3.59072C13.2052 3.98066 12.5258 4.54752 12.0022 5.24621C11.293 4.30266 10.3051 3.606 9.17823 3.25482C8.05134 2.90365 6.84256 2.91573 5.72291 3.28936C4.60327 3.663 3.62948 4.37926 2.93932 5.3368C2.24916 6.29434 1.8776 7.44467 1.8772 8.62501C1.8772 15.3621 11.2373 20.6813 11.6357 20.9044C11.7477 20.9671 11.8739 21 12.0022 21C12.1305 21 12.2567 20.9671 12.3687 20.9044C14.0902 19.8961 15.7059 18.7173 17.1914 17.3856C20.4665 14.438 22.1272 11.4905 22.1272 8.62501C22.1255 7.13368 21.5323 5.70393 20.4778 4.6494C19.4233 3.59487 17.9935 3.0017 16.5022 3.00001Z"
                fill="#FF6363" />
            </svg>
          </button>
        </div>
        <a (click)="mainServ.getPost(el.id)">
          <img [src]="el.image" class="card-img-top">
          <div class="card-body">
            <p class="card-text">{{el.title}}</p>
            <div class="row justify-content-space-between">
              <div class="col">{{el.timeCooking}}</div>
              <div class="col">{{el.tags}}</div>
            </div>
          </div>
        </a>
      </div>
    </div>
  </div>
</div>
<div class="mb-3">
  <h3>Комментарии</h3>
  <ul class="list-group">
    <li class="list-group-item" *ngFor="let comment of  mainServ.post.comments; index as i">
      <div class="row">
        <div class="col-1">
          <img [src]="comment.user.avatar" alt="" style="width: 40px; height: 40px;">
        </div>
        <div class="col-11">
          <p>{{comment.user.firstName}} {{comment.user.lastName}}</p>
          <p>{{comment.text}}</p>
        </div>
      </div>
    </li>
  </ul>
  <div>
    <p>Ваш комментарий</p>
    <div class="form-floating">
      <textarea name="user_comment" [(ngModel)]="user_comment" class="form-control" placeholder="Leave a comment here" id="floatingTextarea">        
      </textarea>      
      <button type="submit" class="btn btn-primary" (click)="postComment()">Отправить</button>
    </div>
  </div>
</div>